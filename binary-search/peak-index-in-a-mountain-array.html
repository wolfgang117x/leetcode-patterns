<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Peak Index in a Mountain Array - Leetcode Patterns</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../Intro.html">Leetcode Patterns</a></li><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Binary Search</li><li class="chapter-item "><a href="../binary-search/first-bad-version.html"><strong aria-hidden="true">1.</strong> First Bad Version</a></li><li class="chapter-item expanded "><a href="../binary-search/peak-index-in-a-mountain-array.html" class="active"><strong aria-hidden="true">2.</strong> Peak Index in a Mountain Array</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Leetcode Patterns</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/wolfgang117x/leetcode-patterns" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="peak-index-in-a-mountain-array"><a class="header" href="#peak-index-in-a-mountain-array"><a href="https://leetcode.com/problems/peak-index-in-a-mountain-array/">Peak Index in a Mountain Array</a></a></h1>
<p><strong>Difficulty: Easy</strong></p>
<hr />
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<p>Let’s call an array <code>arr</code> a mountain if the following properties hold:</p>
<ul>
<li><code>arr.length &gt;= 3</code></li>
<li>There exists some <code>i</code> with <code>0 &lt; i &lt; arr.length - 1</code> such that:
<ul>
<li><code>arr[0] &lt; arr[1] &lt; ... arr[i-1] &lt; arr[i]</code></li>
<li><code>arr[i] &gt; arr[i+1] &gt; ... &gt; arr[arr.length - 1]</code></li>
</ul>
</li>
</ul>
<p>Given an integer array <code>arr</code> that is guaranteed to be a mountain, return any <code>i</code> such that <code>arr[0] &lt; arr[1] &lt; ... arr[i - 1] &lt; arr[i] &gt; arr[i + 1] &gt; ... &gt; arr[arr.length - 1]</code>.</p>
<h3 id="example-1"><a class="header" href="#example-1">Example 1:</a></h3>
<pre><code>Input: arr = [0,1,0]
Output: 1
</code></pre>
<h3 id="example-2"><a class="header" href="#example-2">Example 2:</a></h3>
<pre><code>Input: arr = [0,2,1,0]
Output: 1
</code></pre>
<h3 id="example-3"><a class="header" href="#example-3">Example 3:</a></h3>
<pre><code>Input: arr = [0,10,5,2]
Output: 1
</code></pre>
<h3 id="constraints"><a class="header" href="#constraints">Constraints:</a></h3>
<ul>
<li><code>3 &lt;= arr.length &lt;= 104</code></li>
<li><code>0 &lt;= arr[i] &lt;= 106</code></li>
<li><code>arr</code> is guaranteed to be a mountain array.</li>
</ul>
<hr />
<h2 id="solution"><a class="header" href="#solution">Solution</a></h2>
<pre><code class="language-java">// O(log n) Time, O(1) Space
class Solution {
    public int peakIndexInMountainArray(int[] arr) {
        int left = 0, right = arr.length - 1, peakIdx = -1;
        while (left &lt;= right) {
            int mid = left + (right-left)/2;
            if (mid-1 &gt; -1 &amp;&amp; arr[mid] &gt; arr[mid+1]) {
                peakIdx = mid;
                right = mid - 1;
            } else {
                left = mid + 1;
            }
        }
        return peakIdx;
    }
}
</code></pre>
<hr />
<h2 id="explanation"><a class="header" href="#explanation">Explanation</a></h2>
<p>As per the constraints on the array provided, we know that there will always be a peak. A peak here can be defined as an index <code>i</code> which has values lesser values than itself to its left and right.</p>
<p>If we find an increasing sequence of numbers, we know that the peak is to the right &amp; similarly if we find a decreasing sequence, we know that the peak is to the left as <code>i</code> has values lesser than itself on both its sides.</p>
<p>Using binary search we can narrow down the search space. The comparision condition is going to check if the mid element is greater than its next element aka have we encountered a decreasing sequence, if yes we move towards left else we move towards right.</p>
<pre><code class="language-java">int left = 0, right = arr.length - 1, peakIdx = -1;
</code></pre>
<ul>
<li>First we initialize the bounds for binary search, the <code>left</code> bound to index <code>0</code> and <code>right</code> bound to end of the array <code>arr.length - 1</code>.</li>
<li>We initialize <code>peakIdx</code> as -1, an invalid value, until we find the actual peak index. This variable will be used to keep track of left most index which is greater than its next value. The left most index which is greater than its next value is the peak element in the array because the peak element must be greater than the elements to its left.</li>
</ul>
<pre><code class="language-java">while (left &lt;= right) {
    int mid = left + (right-left)/2;
</code></pre>
<ul>
<li>Now we begin the while loop for the binary search with condition being the lower bound variable <code>left</code> is less than or equal to higher bound variable <code>right</code>. </li>
<li>Next, we calculate the <code>mid</code> value using <code>left + (right-left)/2</code> to avoid overflow and ensure its within array bounds.</li>
</ul>
<pre><code class="language-java">if (arr[mid] &gt; arr[mid+1]) {
    peakIdx = mid;
    right = mid - 1;
}
</code></pre>
<ul>
<li>Once we have the <code>mid</code>, we compare the <code>mid</code> element and <code>mid+1</code> element.</li>
<li>If the <code>mid</code> element is greater than <code>mid+1</code>, we have encountered a decreasing sequence meaning the peak element is to the left and we have to move our search space to the left.</li>
<li>We do this by setting <code>right = mid - 1</code>, also we set <code>peakIdx = mid</code> as its the left most value with decreasing elements to the right we’ve encountered so far. </li>
</ul>
<pre><code class="language-java">} else {
    left = mid + 1;
}
</code></pre>
<ul>
<li>If <code>mid</code> is not greater than <code>mid+1</code>, we know that we’ve encountered an increasing sequence meaning the peak element is to the right and we have to move our search space to the right.</li>
<li>We do this by setting <code>left = mid + 1</code>.</li>
</ul>
<pre><code class="language-java">return peakIdx;
</code></pre>
<ul>
<li>The while loop exits when <code>left &lt;= right</code> meaning we’ve narrowed down and exhausted the search space.</li>
<li>We then return <code>peakIdx</code> which points to the peak element in the array.</li>
</ul>
<p>This approach takes O(log n) time as we halve the search space with each iteration, and it takes O(1) space as we have used only variables which take constant space.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../binary-search/first-bad-version.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../binary-search/first-bad-version.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
